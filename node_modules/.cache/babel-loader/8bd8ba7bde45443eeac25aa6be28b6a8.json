{"ast":null,"code":"var _jsxFileName = \"/Users/cgcouto/cs124/lab4/src/HomeView.js\",\n    _s = $RefreshSig$();\n\nimport './HomeView.css';\nimport ListBox from \"./ListBox\";\nimport { collection, setDoc, doc, updateDoc, deleteDoc } from \"firebase/firestore\";\nimport { generateUniqueID } from \"web-vitals/dist/modules/lib/generateUniqueID\";\nimport { useState } from \"react\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction HomeView(props) {\n  _s();\n\n  const [showName, setShowName] = useState(false);\n  const [showDelete, setShowDelete] = useState(false);\n  const [changeThis, setChangeThis] = useState(\"\");\n  const [showRename, setShowRename] = useState(false);\n  let [lists, loading, error] = useCollectionData(collection(props.db, props.collection));\n\n  if (error) {\n    console.log(\"ERROR: List data failed to load from Firestore\");\n  }\n\n  function handleListAdded(listName) {\n    console.log(\"add\");\n    let listId = generateUniqueID();\n    setShowName(false);\n    setDoc(doc(props.db, props.collection, listId), {\n      key: listId,\n      name: listName\n    }).then(() => {});\n  }\n\n  function handleListDeleted(listId) {\n    console.log(\"delete\");\n    setChangeThis(\"\");\n    setShowDelete(!showDelete);\n    deleteDoc(doc(props.db, props.collection, listId)).then(() => {});\n  }\n\n  function handleListRenamed(listId, newName) {\n    setChangeThis(\"\");\n    setShowRename(!showRename);\n    updateDoc(doc(props.db, props.collection, listId), {\n      name: newName\n    }).then(() => {});\n  }\n\n  function handleDeleteToggle() {\n    setShowDelete(!showDelete);\n  }\n\n  function handleRenameToggle() {\n    setShowRename(!showRename);\n  }\n\n  function handleChangeThisUpdate(listId) {\n    setChangeThis(listId);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeLoading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"homepage\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"titled\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"settings\",\n        tabIndex: showName || showDelete || showRename ? -1 : 0,\n        \"aria-label\": \"settings\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"cogwheel\",\n            src: \"https://icon-library.com/images/white-gear-icon-png/white-gear-icon-png-7.jpg\",\n            tabIndex: -1,\n            alt: \"cog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        tabIndex: showName || showDelete || showRename ? -1 : 0,\n        className: \"header\",\n        children: \" Notes \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"bottom-part\",\n      onClick: () => {\n        console.log(\"parentclicked\");\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"bottom-flex\",\n        children: lists === null || lists === void 0 ? void 0 : lists.map(data => /*#__PURE__*/_jsxDEV(ListBox, {\n          id: data.key,\n          name: data.name,\n          onListView: props.onListView,\n          changeThis: changeThis,\n          showDelete: showDelete,\n          showRename: showRename,\n          onDeleteToggle: handleDeleteToggle,\n          onRenameToggle: handleRenameToggle,\n          onChangeThisUpdate: handleChangeThisUpdate,\n          popup: showName || showDelete || showRename\n        }, data.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"addnotebutton\",\n      tabIndex: showName || showDelete || showRename ? -1 : 0,\n      \"aria-label\": \"add note\",\n      onClick: e => setShowName(!showName),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 89\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this), showDelete && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => {\n            setShowDelete(false);\n            setChangeThis(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"This note will be \", /*#__PURE__*/_jsxDEV(\"font\", {\n              color: \"red\",\n              children: \"permanently deleted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 51\n            }, this), \". Are you sure you want to do this?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"warningButtons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"no\",\n              className: \"warningOption\",\n              tabIndex: 0,\n              onClick: e => {\n                setShowDelete(false);\n                setChangeThis(\"\");\n              },\n              children: \"No, Go Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"yes\",\n              className: \"warningOption\",\n              tabIndex: 0,\n              onClick: e => handleListDeleted(changeThis),\n              children: \"Yes, Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 32\n    }, this), showName && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => setShowName(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"nameMessage\",\n            children: \" Name your note and press 'Enter' to confirm. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"(Max. 25 characters)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"createNoteBox\",\n            className: \"notebox\",\n            type: \"text\",\n            maxLength: 25,\n            autoComplete: \"off\",\n            onKeyDown: e => {\n              if (e.key === 'Enter') {\n                handleListAdded(document.getElementById('createNoteBox').value);\n              }\n\n              if (e.key === 'Escape') {\n                setShowName(false);\n                setChangeThis(\"\");\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 30\n    }, this), showRename && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => {\n            setShowRename(false);\n            setChangeThis(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"nameMessage\",\n            children: \" Rename the selected note and press 'Enter' to confirm.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"(Max. 25 characters)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"renameNote\",\n            className: \"notebox\",\n            type: \"text\",\n            maxLength: 25,\n            autoComplete: \"off\",\n            onKeyDown: e => {\n              if (e.key === 'Enter') {\n                handleListRenamed(changeThis, document.getElementById('renameNote').value);\n              }\n\n              if (e.key === 'Escape') {\n                setShowRename(false);\n                setChangeThis(\"\");\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 13\n  }, this);\n}\n\n_s(HomeView, \"t8ZZQ7w1Z0FnxcXrkhrzhCtbiuU=\", false, function () {\n  return [useCollectionData];\n});\n\n_c = HomeView;\nexport default HomeView;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeView\");","map":{"version":3,"sources":["/Users/cgcouto/cs124/lab4/src/HomeView.js"],"names":["ListBox","collection","setDoc","doc","updateDoc","deleteDoc","generateUniqueID","useState","useCollectionData","HomeView","props","showName","setShowName","showDelete","setShowDelete","changeThis","setChangeThis","showRename","setShowRename","lists","loading","error","db","console","log","handleListAdded","listName","listId","key","name","then","handleListDeleted","handleListRenamed","newName","handleDeleteToggle","handleRenameToggle","handleChangeThisUpdate","map","data","onListView","e","document","getElementById","value"],"mappings":"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","sourcesContent":["import './HomeView.css'\nimport ListBox from \"./ListBox\";\nimport { collection, setDoc, doc, updateDoc, deleteDoc} from \"firebase/firestore\";\nimport {generateUniqueID} from \"web-vitals/dist/modules/lib/generateUniqueID\";\nimport {useState} from \"react\";\n\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\n\n\nfunction HomeView(props) {\n    const [showName, setShowName] = useState(false)\n    const [showDelete, setShowDelete] = useState(false)\n    const [changeThis, setChangeThis] = useState(\"\")\n    const [showRename, setShowRename] = useState(false)\n\n    let [lists,loading,error] = useCollectionData(collection(props.db, props.collection));\n    if (error) {\n        console.log(\"ERROR: List data failed to load from Firestore\")\n    }\n\n    function handleListAdded(listName) {\n        console.log(\"add\")\n        let listId = generateUniqueID();\n        setShowName(false)\n        setDoc(doc(props.db, props.collection, listId),\n            {\n                key: listId,\n                name: listName\n            }).then(() => {})\n    }\n\n\n    function handleListDeleted(listId) {\n        console.log(\"delete\")\n        setChangeThis(\"\");\n        setShowDelete(!showDelete)\n        deleteDoc(doc(props.db, props.collection, listId)).then(() => {});\n    }\n\n    function handleListRenamed(listId, newName) {\n        setChangeThis(\"\")\n        setShowRename(!showRename)\n        updateDoc(doc(props.db, props.collection, listId),\n            {\n                name: newName,\n            }).then(() => {})\n    }\n\n    function handleDeleteToggle() {\n        setShowDelete(!showDelete);\n    }\n\n    function handleRenameToggle() {\n        setShowRename(!showRename)\n    }\n    \n    function handleChangeThisUpdate(listId) {\n        setChangeThis(listId)\n    }\n\n    if (loading) {\n        return <div className={\"homeLoading\"}>Loading...\n        </div>;\n    }\n\n    return (<div id=\"homepage\">\n                <div id=\"titled\">\n                    <button id=\"settings\"\n                            tabIndex={(showName || showDelete || showRename) ? -1 : 0}\n                            aria-label={\"settings\"}>\n                        <div>\n                            <img    id={\"cogwheel\"}\n                                    src=\"https://icon-library.com/images/white-gear-icon-png/white-gear-icon-png-7.jpg\"\n                                    tabIndex={-1}\n                                    alt={\"cog\"}/>\n                        </div>\n                    </button>\n                    <h1 tabIndex={(showName || showDelete || showRename) ? -1 : 0} className={\"header\"}> Notes </h1>\n                </div>\n                <div id={\"bottom-part\"} onClick={() => {\n                    console.log(\"parentclicked\")\n                }}>\n                    <div id=\"bottom-flex\" >\n\n                        {lists?.map((data) =>\n                            <ListBox key = {data.key}\n                                     id = {data.key}\n                                     name = {data.name}\n                                     onListView = {props.onListView}\n                                     changeThis = {changeThis}\n                                     showDelete = {showDelete}\n                                     showRename = {showRename}\n                                     onDeleteToggle = {handleDeleteToggle}\n                                     onRenameToggle = {handleRenameToggle}\n                                     onChangeThisUpdate = {handleChangeThisUpdate}\n                                     popup={(showName || showDelete || showRename)}\n                        />)}\n                    </div>\n                </div>\n                <button id=\"addnotebutton\"\n                        tabIndex={(showName || showDelete || showRename) ? -1 : 0}\n                        aria-label={\"add note\"} onClick={(e) => setShowName(!showName)}><div>+</div></button>\n                {showDelete && <div>\n                    <div>\n                        <div id={\"back\"} onClick={() => {\n                            setShowDelete(false);\n                            setChangeThis(\"\");\n                        }}/>\n                        <div id={\"warning\"}>\n                            <div>\n                                This note will be <font color={\"red\"}>permanently deleted</font>.\n                                Are you sure you want to do this?\n                            </div>\n                            <div id={\"warningButtons\"}>\n\n                                <button id={\"no\"} className={\"warningOption\"} tabIndex={0} onClick={(e) => {\n                                    setShowDelete(false);\n                                    setChangeThis(\"\");\n                                    }}>No, Go Back</button>\n                                <button id={\"yes\"} className={\"warningOption\"} tabIndex={0} onClick={(e) => handleListDeleted(changeThis)}>Yes, Delete</button>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>}\n                {showName && <div>\n                    <div>\n                        <div id={\"back\"} onClick={() => setShowName(false)}/>\n                        <div id={\"warning\"}>\n                            <div id={\"nameMessage\"}> Name your note and press 'Enter' to confirm. </div>\n                            <div>(Max. 25 characters)</div>\n                            <input id={\"createNoteBox\"}\n                                   className={\"notebox\"}\n                                   type={\"text\"}\n                                   maxLength={25}\n                                   autoComplete={\"off\"}\n                                   onKeyDown={(e) => {\n                                       if (e.key === 'Enter') {\n                                            handleListAdded(document.getElementById('createNoteBox').value)\n                                        }\n                                       if (e.key === 'Escape') {\n                                           setShowName(false);\n                                           setChangeThis(\"\");\n                                       }\n                                   }}></input>\n\n                            </div>\n                        </div>\n                    </div>}\n                {showRename && <div>\n                    <div>\n                        <div id={\"back\"} onClick={() => {\n                            setShowRename(false);\n                            setChangeThis(\"\");\n                        }}/>\n                        <div id={\"warning\"}>\n                            <div id={\"nameMessage\"}> Rename the selected note and press 'Enter' to confirm.</div>\n                            <div>(Max. 25 characters)</div>\n                            <input id={\"renameNote\"}\n                                   className={\"notebox\"}\n                                   type={\"text\"}\n                                   maxLength={25}\n                                   autoComplete={\"off\"}\n                                   onKeyDown={(e) => {if (e.key === 'Enter') {\n                                       handleListRenamed(changeThis, document.getElementById('renameNote').value)\n                                   }if (e.key === 'Escape') {\n                                       setShowRename(false);\n                                       setChangeThis(\"\");\n                                   }\n                                   }}></input>\n\n                        </div>\n                    </div>\n                </div>}\n        </div>)\n    }\n\nexport default HomeView;"]},"metadata":{},"sourceType":"module"}