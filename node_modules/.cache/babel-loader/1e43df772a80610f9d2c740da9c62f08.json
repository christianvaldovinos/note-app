{"ast":null,"code":"var _jsxFileName = \"/Users/christianvaldovinos/Desktop/cs124-lab2/src/HomeView.js\",\n    _s = $RefreshSig$();\n\nimport './HomeView.css';\nimport ListBox from \"./ListBox\";\nimport SharedUsers from \"./SharedUsers\";\nimport { collection, setDoc, doc, updateDoc, deleteDoc, query, arrayRemove, arrayUnion, orderBy } from \"firebase/firestore\";\nimport { generateUniqueID } from \"web-vitals/dist/modules/lib/generateUniqueID\";\nimport { useState } from \"react\";\nimport { signOut } from \"firebase/auth\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction HomeView(props) {\n  _s();\n\n  const [showName, setShowName] = useState(false);\n  const [showDelete, setShowDelete] = useState(false);\n  const [changeThis, setChangeThis] = useState(\"\");\n  const [showRename, setShowRename] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showShare, setShowShare] = useState(false);\n  const collectionRef = collection(props.db, props.collection);\n  const [lists, loading, error] = useCollectionData(query(collectionRef, orderBy('key')));\n\n  if (error) {\n    console.log(\"ERROR: List data failed to load from Firestore\");\n    console.log(error.code);\n  } // Creates a new note\n\n\n  function handleListAdded(listName) {\n    let listId = generateUniqueID();\n    setShowName(false);\n    void setDoc(doc(props.db, props.collection, listId), {\n      key: listId,\n      name: listName,\n      owner: props.user.email,\n      canView: [props.user.email],\n      canEdit: [props.user.email]\n    });\n  } // Deletes note forever\n\n\n  function handleListDeleted(listId) {\n    setChangeThis(\"\");\n    setShowDelete(!showDelete);\n    void deleteDoc(doc(props.db, props.collection, listId));\n  } // Removes note from viewer's home page\n\n\n  function handleListRemoved(listId) {\n    setChangeThis(\"\");\n    setShowRemove(!showRemove);\n    void updateDoc(doc(props.db, props.collection, listId), {\n      canView: arrayRemove(props.user.email)\n    });\n  } // Renames note\n\n\n  function handleListRenamed(listId, newName) {\n    setChangeThis(\"\");\n    setShowRename(!showRename);\n    void updateDoc(doc(props.db, props.collection, listId), {\n      name: newName\n    });\n  } // Adds permission for a user to view and/or edit a note when it is shared with them based on the type of share\n\n\n  function handleListShared(listId, shareUser, shareType) {\n    if (shareType === \"Editor\") {\n      void updateDoc(doc(props.db, props.collection, listId), {\n        canEdit: arrayUnion(shareUser)\n      });\n    }\n\n    void updateDoc(doc(props.db, props.collection, listId), {\n      canView: arrayUnion(shareUser)\n    });\n  } // Handles when someone's sharing type is removed\n\n\n  function handleUpdateSharing(listId, shareUser, shareType) {\n    if (shareType === \"Editor\") {\n      void updateDoc(doc(props.db, props.collection, listId), {\n        canEdit: arrayRemove(shareUser)\n      });\n    }\n\n    void updateDoc(doc(props.db, props.collection, listId), {\n      canView: arrayRemove(shareUser)\n    });\n  } // Control states for displaying warnings\n\n\n  function handleDeleteToggle() {\n    setShowDelete(!showDelete);\n  }\n\n  function handleRemoveToggle() {\n    setShowRemove(!showRemove);\n  }\n\n  function handleRenameToggle() {\n    setShowRename(!showRename);\n  }\n\n  function handleShareToggle() {\n    setShowShare(!showShare);\n  }\n\n  function handleChangeThisUpdate(listId) {\n    setChangeThis(listId);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeLoading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"homepage\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"titled\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"settings\",\n        tabIndex: showName || showDelete || showRename || showShare ? -1 : 0,\n        \"aria-label\": \"settings\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"cogwheel\",\n            src: \"https://icon-library.com/images/white-gear-icon-png/white-gear-icon-png-7.jpg\",\n            tabIndex: -1,\n            alt: \"cog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        tabIndex: showName || showDelete || showRename || showShare ? -1 : 0,\n        className: \"header\",\n        children: \" Notes \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"logOut\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", props.user.email, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          tabIndex: showName || showDelete || showRename || showShare ? -1 : 0,\n          onClick: () => signOut(props.auth),\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"bottom-part\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"bottom-flex\",\n        children: lists === null || lists === void 0 ? void 0 : lists.map(data => data.key !== 'b97qjRbVqp7TaMiZFdTQ' ? /*#__PURE__*/_jsxDEV(ListBox, {\n          id: data.key,\n          name: data.name,\n          canViewList: data.canView,\n          canEditList: data.canEdit,\n          onListView: props.onListView,\n          isOwner: data.owner === props.user.email,\n          canEdit: data.canEdit.includes(props.user.email),\n          canView: data.canView.includes(props.user.email),\n          changeThis: changeThis,\n          showDelete: showDelete,\n          showRename: showRename,\n          showShare: showShare,\n          showName: showName,\n          onDeleteToggle: handleDeleteToggle,\n          onRemoveToggle: handleRemoveToggle,\n          onRenameToggle: handleRenameToggle,\n          onShareToggle: handleShareToggle,\n          onChangeThisUpdate: handleChangeThisUpdate,\n          popup: showName || showDelete || showRename || showShare\n        }, data.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 34\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"addnotebutton\",\n      className: \"circleButton\",\n      tabIndex: showName || showDelete || showRename || showShare ? -1 : 0,\n      \"aria-label\": \"add note\",\n      onClick: () => setShowName(!showName),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }, this), showDelete && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => {\n            setShowDelete(false);\n            setChangeThis(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"This note will be \", /*#__PURE__*/_jsxDEV(\"font\", {\n              color: \"red\",\n              children: \"permanently deleted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 51\n            }, this), \". Are you sure you want to do this?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"warningButtons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"no\",\n              className: \"warningOption\",\n              tabIndex: 0,\n              onClick: () => {\n                setShowDelete(false);\n                setChangeThis(\"\");\n              },\n              children: \"No, Go Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"yes\",\n              className: \"warningOption\",\n              tabIndex: 0,\n              onClick: () => handleListDeleted(changeThis),\n              children: \"Yes, Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 32\n    }, this), showRemove && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => {\n            setShowRemove(false);\n            setChangeThis(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"This note will be \", /*#__PURE__*/_jsxDEV(\"font\", {\n              color: \"red\",\n              children: \"permanently removed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 51\n            }, this), \" from your notes. It will not be removed for other users. Are you sure you want to do this?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"warningButtons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"no\",\n              className: \"warningOption\",\n              tabIndex: 0,\n              onClick: () => {\n                setShowRemove(false);\n                setChangeThis(\"\");\n              },\n              children: \"No, Go Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"yes\",\n              className: \"warningOption\",\n              tabIndex: 0,\n              onClick: () => handleListRemoved(changeThis),\n              children: \"Yes, Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 32\n    }, this), showName && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => setShowName(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"nameMessage\",\n            children: \" Name your note and press 'Enter' to confirm. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"(Max. 25 characters)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"createNoteBox\",\n            className: \"notebox\",\n            type: \"text\",\n            maxLength: 25,\n            autoComplete: \"off\",\n            onKeyDown: e => {\n              if (e.key === 'Enter') {\n                handleListAdded(document.getElementById('createNoteBox').value);\n              }\n\n              if (e.key === 'Escape') {\n                setShowName(false);\n                setChangeThis(\"\");\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 30\n    }, this), showRename && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => {\n            setShowRename(false);\n            setChangeThis(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"nameMessage\",\n            children: \" Rename the selected note and press 'Enter' to confirm.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"(Max. 25 characters)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"renameNote\",\n            className: \"notebox\",\n            type: \"text\",\n            maxLength: 25,\n            autoComplete: \"off\",\n            onKeyDown: e => {\n              if (e.key === 'Enter') {\n                handleListRenamed(changeThis, document.getElementById('renameNote').value);\n              }\n\n              if (e.key === 'Escape') {\n                setShowRename(false);\n                setChangeThis(\"\");\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 32\n    }, this), showShare && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"back\",\n          onClick: () => {\n            setShowShare(false);\n            setChangeThis(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"warning\",\n          children: lists === null || lists === void 0 ? void 0 : lists.map(data => data.key !== 'b97qjRbVqp7TaMiZFdTQ' ? /*#__PURE__*/_jsxDEV(SharedUsers, {\n            changeThis: changeThis,\n            id: data.key,\n            owner: data.owner,\n            isOwner: data.owner === props.user.email,\n            collectionRef: collectionRef,\n            updateSharing: handleUpdateSharing,\n            onListShared: handleListShared,\n            canView: data.canView,\n            canEdit: data.canEdit,\n            setShowRename: setShowRename,\n            setChangeThis: setChangeThis\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 38\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 13\n  }, this);\n}\n\n_s(HomeView, \"A50OIalKdDjW9YdZPk5NIBDFuo4=\", false, function () {\n  return [useCollectionData];\n});\n\n_c = HomeView;\nexport default HomeView;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeView\");","map":{"version":3,"sources":["/Users/christianvaldovinos/Desktop/cs124-lab2/src/HomeView.js"],"names":["ListBox","SharedUsers","collection","setDoc","doc","updateDoc","deleteDoc","query","arrayRemove","arrayUnion","orderBy","generateUniqueID","useState","signOut","useCollectionData","HomeView","props","showName","setShowName","showDelete","setShowDelete","changeThis","setChangeThis","showRename","setShowRename","showRemove","setShowRemove","showShare","setShowShare","collectionRef","db","lists","loading","error","console","log","code","handleListAdded","listName","listId","key","name","owner","user","email","canView","canEdit","handleListDeleted","handleListRemoved","handleListRenamed","newName","handleListShared","shareUser","shareType","handleUpdateSharing","handleDeleteToggle","handleRemoveToggle","handleRenameToggle","handleShareToggle","handleChangeThisUpdate","auth","map","data","onListView","includes","e","document","getElementById","value"],"mappings":";;;AAAA,OAAO,gBAAP;AACA,OAAOA,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAAQC,UAAR,EAAoBC,MAApB,EAA4BC,GAA5B,EAAiCC,SAAjC,EAA4CC,SAA5C,EAAuDC,KAAvD,EAA8DC,WAA9D,EAA2EC,UAA3E,EAAuFC,OAAvF,QAAqG,oBAArG;AACA,SAAQC,gBAAR,QAA+B,8CAA/B;AACA,SAAQC,QAAR,QAAuB,OAAvB;AACA,SAAQC,OAAR,QAAsB,eAAtB;AACA,SAAQC,iBAAR,QAAgC,gCAAhC;;;AAGA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AACrB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAMiB,aAAa,GAAG3B,UAAU,CAACc,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,CAAhC;AACA,QAAM,CAAC6B,KAAD,EAAQC,OAAR,EAAiBC,KAAjB,IAA0BnB,iBAAiB,CAACP,KAAK,CAACsB,aAAD,EAAgBnB,OAAO,CAAC,KAAD,CAAvB,CAAN,CAAjD;;AAEA,MAAIuB,KAAJ,EAAW;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,gDAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,IAAlB;AACH,GAboB,CAerB;;;AACA,WAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAC/B,QAAIC,MAAM,GAAG5B,gBAAgB,EAA7B;AACAO,IAAAA,WAAW,CAAC,KAAD,CAAX;AACA,SAAKf,MAAM,CAACC,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,EACP;AACIC,MAAAA,GAAG,EAAED,MADT;AAEIE,MAAAA,IAAI,EAAEH,QAFV;AAGII,MAAAA,KAAK,EAAE1B,KAAK,CAAC2B,IAAN,CAAWC,KAHtB;AAIIC,MAAAA,OAAO,EAAE,CAAC7B,KAAK,CAAC2B,IAAN,CAAWC,KAAZ,CAJb;AAKIE,MAAAA,OAAO,EAAE,CAAC9B,KAAK,CAAC2B,IAAN,CAAWC,KAAZ;AALb,KADO,CAAX;AAQH,GA3BoB,CA6BrB;;;AACA,WAASG,iBAAT,CAA2BR,MAA3B,EAAmC;AAC/BjB,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAF,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACA,SAAKb,SAAS,CAACF,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,CAAd;AACH,GAlCoB,CAoCrB;;;AACA,WAASS,iBAAT,CAA2BT,MAA3B,EAAmC;AAC/BjB,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAI,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACA,SAAKpB,SAAS,CAACD,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,EACV;AACIM,MAAAA,OAAO,EAAErC,WAAW,CAACQ,KAAK,CAAC2B,IAAN,CAAWC,KAAZ;AADxB,KADU,CAAd;AAIH,GA5CoB,CA8CrB;;;AACA,WAASK,iBAAT,CAA2BV,MAA3B,EAAmCW,OAAnC,EAA4C;AACxC5B,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAE,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACA,SAAKlB,SAAS,CAACD,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,EACV;AACIE,MAAAA,IAAI,EAAES;AADV,KADU,CAAd;AAIH,GAtDoB,CAwDrB;;;AACA,WAASC,gBAAT,CAA0BZ,MAA1B,EAAkCa,SAAlC,EAA6CC,SAA7C,EAAwD;AACpD,QAAIA,SAAS,KAAG,QAAhB,EAA0B;AACtB,WAAKhD,SAAS,CAACD,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,EACV;AACIO,QAAAA,OAAO,EAAErC,UAAU,CAAC2C,SAAD;AADvB,OADU,CAAd;AAIH;;AACD,SAAK/C,SAAS,CAACD,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,EACV;AACIM,MAAAA,OAAO,EAAEpC,UAAU,CAAC2C,SAAD;AADvB,KADU,CAAd;AAIH,GApEoB,CAsErB;;;AACA,WAASE,mBAAT,CAA6Bf,MAA7B,EAAqCa,SAArC,EAAgDC,SAAhD,EAA2D;AACvD,QAAIA,SAAS,KAAG,QAAhB,EAA0B;AACtB,WAAKhD,SAAS,CAACD,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,EACV;AACIO,QAAAA,OAAO,EAAEtC,WAAW,CAAC4C,SAAD;AADxB,OADU,CAAd;AAIH;;AACD,SAAK/C,SAAS,CAACD,GAAG,CAACY,KAAK,CAACc,EAAP,EAAWd,KAAK,CAACd,UAAjB,EAA6BqC,MAA7B,CAAJ,EACV;AACIM,MAAAA,OAAO,EAAErC,WAAW,CAAC4C,SAAD;AADxB,KADU,CAAd;AAIH,GAlFoB,CAoFrB;;;AACA,WAASG,kBAAT,GAA8B;AAC1BnC,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACH;;AAED,WAASqC,kBAAT,GAA8B;AAC1B9B,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACH;;AAED,WAASgC,kBAAT,GAA8B;AAC1BjC,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACH;;AAED,WAASmC,iBAAT,GAA6B;AACzB9B,IAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;AACH;;AAED,WAASgC,sBAAT,CAAgCpB,MAAhC,EAAwC;AACpCjB,IAAAA,aAAa,CAACiB,MAAD,CAAb;AACH;;AAGD,MAAIP,OAAJ,EAAa;AACT,wBAAO;AAAK,MAAA,SAAS,EAAE,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAEH;;AAED,sBAAQ;AAAK,IAAA,EAAE,EAAC,UAAR;AAAA,4BAEI;AAAK,MAAA,EAAE,EAAC,QAAR;AAAA,8BACI;AAAQ,QAAA,EAAE,EAAC,UAAX;AACQ,QAAA,QAAQ,EAAGf,QAAQ,IAAIE,UAAZ,IAA0BI,UAA1B,IAAwCI,SAAzC,GAAsD,CAAC,CAAvD,GAA2D,CAD7E;AAEQ,sBAAY,UAFpB;AAAA,+BAGI;AAAA,iCACI;AAAQ,YAAA,EAAE,EAAE,UAAZ;AACQ,YAAA,GAAG,EAAC,+EADZ;AAEQ,YAAA,QAAQ,EAAE,CAAC,CAFnB;AAGQ,YAAA,GAAG,EAAE;AAHb;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAWI;AAAI,QAAA,QAAQ,EAAGV,QAAQ,IAAIE,UAAZ,IAA0BI,UAA1B,IAAwCI,SAAzC,GAAsD,CAAC,CAAvD,GAA2D,CAAzE;AACI,QAAA,SAAS,EAAE,QADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAaI;AAAK,QAAA,EAAE,EAAE,QAAT;AAAA,gCACI;AAAA,0BAAQX,KAAK,CAAC2B,IAAN,CAAWC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,QAAQ,EAAG3B,QAAQ,IAAIE,UAAZ,IAA0BI,UAA1B,IAAwCI,SAAzC,GAAsD,CAAC,CAAvD,GAA2D,CAA7E;AACQ,UAAA,OAAO,EAAE,MAAMd,OAAO,CAACG,KAAK,CAAC4C,IAAP,CAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAuBI;AAAK,MAAA,EAAE,EAAE,aAAT;AAAA,6BACI;AAAK,QAAA,EAAE,EAAC,aAAR;AAAA,kBACK7B,KADL,aACKA,KADL,uBACKA,KAAK,CAAE8B,GAAP,CAAYC,IAAD,IAAUA,IAAI,CAACtB,GAAL,KAAa,sBAAb,gBAClB,QAAC,OAAD;AACS,UAAA,EAAE,EAAIsB,IAAI,CAACtB,GADpB;AAES,UAAA,IAAI,EAAIsB,IAAI,CAACrB,IAFtB;AAGS,UAAA,WAAW,EAAIqB,IAAI,CAACjB,OAH7B;AAIS,UAAA,WAAW,EAAIiB,IAAI,CAAChB,OAJ7B;AAKS,UAAA,UAAU,EAAI9B,KAAK,CAAC+C,UAL7B;AAMS,UAAA,OAAO,EAAID,IAAI,CAACpB,KAAL,KAAe1B,KAAK,CAAC2B,IAAN,CAAWC,KAN9C;AAOS,UAAA,OAAO,EAAIkB,IAAI,CAAChB,OAAL,CAAakB,QAAb,CAAsBhD,KAAK,CAAC2B,IAAN,CAAWC,KAAjC,CAPpB;AAQS,UAAA,OAAO,EAAIkB,IAAI,CAACjB,OAAL,CAAamB,QAAb,CAAsBhD,KAAK,CAAC2B,IAAN,CAAWC,KAAjC,CARpB;AASS,UAAA,UAAU,EAAIvB,UATvB;AAUS,UAAA,UAAU,EAAIF,UAVvB;AAWS,UAAA,UAAU,EAAII,UAXvB;AAYS,UAAA,SAAS,EAAII,SAZtB;AAaS,UAAA,QAAQ,EAAIV,QAbrB;AAcS,UAAA,cAAc,EAAIsC,kBAd3B;AAeS,UAAA,cAAc,EAAIC,kBAf3B;AAgBS,UAAA,cAAc,EAAIC,kBAhB3B;AAiBS,UAAA,aAAa,EAAIC,iBAjB1B;AAkBS,UAAA,kBAAkB,EAAIC,sBAlB/B;AAmBS,UAAA,KAAK,EAAG1C,QAAQ,IAAIE,UAAZ,IAA0BI,UAA1B,IAAwCI;AAnBzD,WAAgBmC,IAAI,CAACtB,GAArB;AAAA;AAAA;AAAA;AAAA,gBADkB,gBAqBb;AAAA;AAAA;AAAA;AAAA,gBArBR;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAvBJ,eAmDI;AAAQ,MAAA,EAAE,EAAC,eAAX;AACQ,MAAA,SAAS,EAAE,cADnB;AAEQ,MAAA,QAAQ,EAAGvB,QAAQ,IAAIE,UAAZ,IAA0BI,UAA1B,IAAwCI,SAAzC,GAAsD,CAAC,CAAvD,GAA2D,CAF7E;AAGQ,oBAAY,UAHpB;AAGgC,MAAA,OAAO,EAAE,MAAMT,WAAW,CAAC,CAACD,QAAF,CAH1D;AAAA,6BAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,YAnDJ,EA2DKE,UAAU,iBAAI;AAAA,6BACX;AAAA,gCAGI;AAAK,UAAA,EAAE,EAAE,MAAT;AAAiB,UAAA,OAAO,EAAE,MAAM;AAC5BC,YAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,YAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AAHD;AAAA;AAAA;AAAA;AAAA,gBAHJ,eASI;AAAK,UAAA,EAAE,EAAE,SAAT;AAAA,kCACI;AAAA,0DACsB;AAAM,cAAA,KAAK,EAAE,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADtB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAK,YAAA,EAAE,EAAE,gBAAT;AAAA,oCACI;AAAQ,cAAA,EAAE,EAAE,IAAZ;AAAkB,cAAA,SAAS,EAAE,eAA7B;AAA8C,cAAA,QAAQ,EAAE,CAAxD;AAA2D,cAAA,OAAO,EAAE,MAAM;AACtEF,gBAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,gBAAAA,aAAa,CAAC,EAAD,CAAb;AACC,eAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAKI;AAAQ,cAAA,EAAE,EAAE,KAAZ;AAAmB,cAAA,SAAS,EAAE,eAA9B;AAA+C,cAAA,QAAQ,EAAE,CAAzD;AAA4D,cAAA,OAAO,EAAE,MAAMyB,iBAAiB,CAAC1B,UAAD,CAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADW;AAAA;AAAA;AAAA;AAAA,YA3DnB,EAsFKI,UAAU,iBAAI;AAAA,6BACX;AAAA,gCACI;AAAK,UAAA,EAAE,EAAE,MAAT;AAAiB,UAAA,OAAO,EAAE,MAAM;AAC5BC,YAAAA,aAAa,CAAC,KAAD,CAAb;AACAJ,YAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AAHD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI;AAAK,UAAA,EAAE,EAAE,SAAT;AAAA,kCACI;AAAA,0DACsB;AAAM,cAAA,KAAK,EAAE,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADtB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAK,YAAA,EAAE,EAAE,gBAAT;AAAA,oCAEI;AAAQ,cAAA,EAAE,EAAE,IAAZ;AAAkB,cAAA,SAAS,EAAE,eAA7B;AAA8C,cAAA,QAAQ,EAAE,CAAxD;AAA2D,cAAA,OAAO,EAAE,MAAM;AACtEI,gBAAAA,aAAa,CAAC,KAAD,CAAb;AACAJ,gBAAAA,aAAa,CAAC,EAAD,CAAb;AACH,eAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAMI;AAAQ,cAAA,EAAE,EAAE,KAAZ;AAAmB,cAAA,SAAS,EAAE,eAA9B;AAA+C,cAAA,QAAQ,EAAE,CAAzD;AAA4D,cAAA,OAAO,EAAE,MAAM0B,iBAAiB,CAAC3B,UAAD,CAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADW;AAAA;AAAA;AAAA;AAAA,YAtFnB,EA+GKJ,QAAQ,iBAAI;AAAA,6BACT;AAAA,gCACI;AAAK,UAAA,EAAE,EAAE,MAAT;AAAiB,UAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,KAAD;AAA3C;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,EAAE,EAAE,SAAT;AAAA,kCACI;AAAK,YAAA,EAAE,EAAE,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAO,YAAA,EAAE,EAAE,eAAX;AACO,YAAA,SAAS,EAAE,SADlB;AAEO,YAAA,IAAI,EAAE,MAFb;AAGO,YAAA,SAAS,EAAE,EAHlB;AAIO,YAAA,YAAY,EAAE,KAJrB;AAKO,YAAA,SAAS,EAAG+C,CAAD,IAAO;AACd,kBAAIA,CAAC,CAACzB,GAAF,KAAU,OAAd,EAAuB;AAClBH,gBAAAA,eAAe,CAAC6B,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAA1C,CAAf;AACH;;AACF,kBAAIH,CAAC,CAACzB,GAAF,KAAU,QAAd,EAAwB;AACpBtB,gBAAAA,WAAW,CAAC,KAAD,CAAX;AACAI,gBAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AACJ;AAbR;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADS;AAAA;AAAA;AAAA;AAAA,YA/GjB,EAwIKC,UAAU,iBAAI;AAAA,6BACX;AAAA,gCACI;AAAK,UAAA,EAAE,EAAE,MAAT;AAAiB,UAAA,OAAO,EAAE,MAAM;AAC5BC,YAAAA,aAAa,CAAC,KAAD,CAAb;AACAF,YAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AAHD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI;AAAK,UAAA,EAAE,EAAE,SAAT;AAAA,kCACI;AAAK,YAAA,EAAE,EAAE,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAO,YAAA,EAAE,EAAE,YAAX;AACO,YAAA,SAAS,EAAE,SADlB;AAEO,YAAA,IAAI,EAAE,MAFb;AAGO,YAAA,SAAS,EAAE,EAHlB;AAIO,YAAA,YAAY,EAAE,KAJrB;AAKO,YAAA,SAAS,EAAG2C,CAAD,IAAO;AAAC,kBAAIA,CAAC,CAACzB,GAAF,KAAU,OAAd,EAAuB;AACtCS,gBAAAA,iBAAiB,CAAC5B,UAAD,EAAa6C,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAnD,CAAjB;AACH;;AAAA,kBAAIH,CAAC,CAACzB,GAAF,KAAU,QAAd,EAAwB;AACrBhB,gBAAAA,aAAa,CAAC,KAAD,CAAb;AACAF,gBAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AACA;AAXR;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADW;AAAA;AAAA;AAAA;AAAA,YAxInB,EAmKKK,SAAS,iBAAI;AAAA,6BACV;AAAA,gCACI;AAAK,UAAA,EAAE,EAAE,MAAT;AAAiB,UAAA,OAAO,EAAE,MAAM;AAC5BC,YAAAA,YAAY,CAAC,KAAD,CAAZ;AACAN,YAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AAHD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI;AAAK,UAAA,EAAE,EAAE,SAAT;AAAA,oBAGKS,KAHL,aAGKA,KAHL,uBAGKA,KAAK,CAAE8B,GAAP,CAAYC,IAAD,IAAUA,IAAI,CAACtB,GAAL,KAAa,sBAAb,gBAClB,QAAC,WAAD;AAAa,YAAA,UAAU,EAAEnB,UAAzB;AACa,YAAA,EAAE,EAAEyC,IAAI,CAACtB,GADtB;AAEa,YAAA,KAAK,EAAEsB,IAAI,CAACpB,KAFzB;AAGa,YAAA,OAAO,EAAIoB,IAAI,CAACpB,KAAL,KAAe1B,KAAK,CAAC2B,IAAN,CAAWC,KAHlD;AAIa,YAAA,aAAa,EAAEf,aAJ5B;AAKa,YAAA,aAAa,EAAIyB,mBAL9B;AAMa,YAAA,YAAY,EAAIH,gBAN7B;AAOa,YAAA,OAAO,EAAEW,IAAI,CAACjB,OAP3B;AAQa,YAAA,OAAO,EAAEiB,IAAI,CAAChB,OAR3B;AASa,YAAA,aAAa,EAAItB,aAT9B;AAUa,YAAA,aAAa,EAAIF;AAV9B;AAAA;AAAA;AAAA;AAAA,kBADkB,gBAYb;AAAA;AAAA;AAAA;AAAA,kBAZR;AAHL;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADU;AAAA;AAAA;AAAA;AAAA,YAnKlB;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AA8LC;;GA7SIP,Q;UAQ2BD,iB;;;KAR3BC,Q;AA+ST,eAAeA,QAAf","sourcesContent":["import './HomeView.css'\nimport ListBox from \"./ListBox\";\nimport SharedUsers from \"./SharedUsers\";\nimport {collection, setDoc, doc, updateDoc, deleteDoc, query, arrayRemove, arrayUnion, orderBy} from \"firebase/firestore\";\nimport {generateUniqueID} from \"web-vitals/dist/modules/lib/generateUniqueID\";\nimport {useState} from \"react\";\nimport {signOut} from \"firebase/auth\";\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\n\n\nfunction HomeView(props) {\n    const [showName, setShowName] = useState(false)\n    const [showDelete, setShowDelete] = useState(false)\n    const [changeThis, setChangeThis] = useState(\"\")\n    const [showRename, setShowRename] = useState(false)\n    const [showRemove, setShowRemove] = useState(false)\n    const [showShare, setShowShare] = useState(false)\n    const collectionRef = collection(props.db, props.collection);\n    const [lists, loading, error] = useCollectionData(query(collectionRef, orderBy('key')));\n\n    if (error) {\n        console.log(\"ERROR: List data failed to load from Firestore\")\n        console.log(error.code)\n    }\n\n    // Creates a new note\n    function handleListAdded(listName) {\n        let listId = generateUniqueID();\n        setShowName(false)\n        void setDoc(doc(props.db, props.collection, listId),\n            {\n                key: listId,\n                name: listName,\n                owner: props.user.email,\n                canView: [props.user.email],\n                canEdit: [props.user.email]\n            })\n    }\n\n    // Deletes note forever\n    function handleListDeleted(listId) {\n        setChangeThis(\"\");\n        setShowDelete(!showDelete)\n        void deleteDoc(doc(props.db, props.collection, listId));\n    }\n\n    // Removes note from viewer's home page\n    function handleListRemoved(listId) {\n        setChangeThis(\"\");\n        setShowRemove(!showRemove)\n        void updateDoc(doc(props.db, props.collection, listId),\n            {\n                canView: arrayRemove(props.user.email)\n            })\n    }\n\n    // Renames note\n    function handleListRenamed(listId, newName) {\n        setChangeThis(\"\")\n        setShowRename(!showRename)\n        void updateDoc(doc(props.db, props.collection, listId),\n            {\n                name: newName,\n            })\n    }\n\n    // Adds permission for a user to view and/or edit a note when it is shared with them based on the type of share\n    function handleListShared(listId, shareUser, shareType) {\n        if (shareType===\"Editor\") {\n            void updateDoc(doc(props.db, props.collection, listId),\n                {\n                    canEdit: arrayUnion(shareUser)\n                })\n        }\n        void updateDoc(doc(props.db, props.collection, listId),\n            {\n                canView: arrayUnion(shareUser)\n            })\n    }\n\n    // Handles when someone's sharing type is removed\n    function handleUpdateSharing(listId, shareUser, shareType) {\n        if (shareType===\"Editor\") {\n            void updateDoc(doc(props.db, props.collection, listId),\n                {\n                    canEdit: arrayRemove(shareUser)\n                })\n        }\n        void updateDoc(doc(props.db, props.collection, listId),\n            {\n                canView: arrayRemove(shareUser)\n            })\n    }\n\n    // Control states for displaying warnings\n    function handleDeleteToggle() {\n        setShowDelete(!showDelete);\n    }\n\n    function handleRemoveToggle() {\n        setShowRemove(!showRemove);\n    }\n\n    function handleRenameToggle() {\n        setShowRename(!showRename);\n    }\n\n    function handleShareToggle() {\n        setShowShare(!showShare);\n    }\n\n    function handleChangeThisUpdate(listId) {\n        setChangeThis(listId)\n    }\n\n\n    if (loading) {\n        return <div className={\"homeLoading\"}>Loading...\n        </div>;\n    }\n\n    return (<div id=\"homepage\">\n                {/*Home Page Header*/}\n                <div id=\"titled\">\n                    <button id=\"settings\"\n                            tabIndex={(showName || showDelete || showRename || showShare) ? -1 : 0}\n                            aria-label={\"settings\"}>\n                        <div>\n                            <img    id={\"cogwheel\"}\n                                    src=\"https://icon-library.com/images/white-gear-icon-png/white-gear-icon-png-7.jpg\"\n                                    tabIndex={-1}\n                                    alt={\"cog\"}/>\n                        </div>\n                    </button>\n                    <h1 tabIndex={(showName || showDelete || showRename || showShare) ? -1 : 0}\n                        className={\"header\"}> Notes </h1>\n                    <div id={\"logOut\"}>\n                        <span> {props.user.email} </span>\n                        <button tabIndex={(showName || showDelete || showRename || showShare) ? -1 : 0}\n                                onClick={() => signOut(props.auth)}>Log Out</button>\n                    </div>\n                </div>\n\n                {/*Displays lists on homepage*/}\n                <div id={\"bottom-part\"}>\n                    <div id=\"bottom-flex\" >\n                        {lists?.map((data) => data.key !== 'b97qjRbVqp7TaMiZFdTQ' ?\n                            <ListBox key = {data.key}\n                                     id = {data.key}\n                                     name = {data.name}\n                                     canViewList = {data.canView}\n                                     canEditList = {data.canEdit}\n                                     onListView = {props.onListView}\n                                     isOwner = {data.owner === props.user.email}\n                                     canEdit = {data.canEdit.includes(props.user.email)}\n                                     canView = {data.canView.includes(props.user.email)}\n                                     changeThis = {changeThis}\n                                     showDelete = {showDelete}\n                                     showRename = {showRename}\n                                     showShare = {showShare}\n                                     showName = {showName}\n                                     onDeleteToggle = {handleDeleteToggle}\n                                     onRemoveToggle = {handleRemoveToggle}\n                                     onRenameToggle = {handleRenameToggle}\n                                     onShareToggle = {handleShareToggle}\n                                     onChangeThisUpdate = {handleChangeThisUpdate}\n                                     popup={(showName || showDelete || showRename || showShare)}\n                            /> : <div/>)}\n                    </div>\n                </div>\n\n                {/*Plus button to add a new note*/}\n                <button id=\"addnotebutton\"\n                        className={\"circleButton\"}\n                        tabIndex={(showName || showDelete || showRename || showShare) ? -1 : 0}\n                        aria-label={\"add note\"} onClick={() => setShowName(!showName)}>\n                    <div>+</div>\n                </button>\n\n                {/*Displays delete warning*/}\n                {showDelete && <div>\n                    <div>\n\n                        {/*Background can be clicked to make warning disappear*/}\n                        <div id={\"back\"} onClick={() => {\n                            setShowDelete(false);\n                            setChangeThis(\"\");\n                        }}/>\n\n                        {/*Warning box*/}\n                        <div id={\"warning\"}>\n                            <div>\n                                This note will be <font color={\"red\"}>permanently deleted</font>.\n                                Are you sure you want to do this?\n                            </div>\n                            <div id={\"warningButtons\"}>\n                                <button id={\"no\"} className={\"warningOption\"} tabIndex={0} onClick={() => {\n                                    setShowDelete(false);\n                                    setChangeThis(\"\");\n                                    }}>No, Go Back</button>\n                                <button id={\"yes\"} className={\"warningOption\"} tabIndex={0} onClick={() => handleListDeleted(changeThis)}>Yes, Delete</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>}\n\n                {/*Displays remove warning*/}\n                {showRemove && <div>\n                    <div>\n                        <div id={\"back\"} onClick={() => {\n                            setShowRemove(false);\n                            setChangeThis(\"\");\n                        }}/>\n                        <div id={\"warning\"}>\n                            <div>\n                                This note will be <font color={\"red\"}>permanently removed</font> from your notes.\n                                It will not be removed for other users. Are you sure you want to do this?\n                            </div>\n                            <div id={\"warningButtons\"}>\n\n                                <button id={\"no\"} className={\"warningOption\"} tabIndex={0} onClick={() => {\n                                    setShowRemove(false);\n                                    setChangeThis(\"\");\n                                }}>No, Go Back</button>\n                                <button id={\"yes\"} className={\"warningOption\"} tabIndex={0} onClick={() => handleListRemoved(changeThis)}>Yes, Remove</button>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>}\n\n                {/*Displays new note creation popup*/}\n                {showName && <div>\n                    <div>\n                        <div id={\"back\"} onClick={() => setShowName(false)}/>\n                        <div id={\"warning\"}>\n                            <div id={\"nameMessage\"}> Name your note and press 'Enter' to confirm. </div>\n                            <div>(Max. 25 characters)</div>\n                            <input id={\"createNoteBox\"}\n                                   className={\"notebox\"}\n                                   type={\"text\"}\n                                   maxLength={25}\n                                   autoComplete={\"off\"}\n                                   onKeyDown={(e) => {\n                                       if (e.key === 'Enter') {\n                                            handleListAdded(document.getElementById('createNoteBox').value)\n                                        }\n                                       if (e.key === 'Escape') {\n                                           setShowName(false);\n                                           setChangeThis(\"\");\n                                       }\n                                   }}/>\n                            </div>\n                        </div>\n                    </div>}\n\n                {/*Displays renaming warning*/}\n                {showRename && <div>\n                    <div>\n                        <div id={\"back\"} onClick={() => {\n                            setShowRename(false);\n                            setChangeThis(\"\");\n                        }}/>\n                        <div id={\"warning\"}>\n                            <div id={\"nameMessage\"}> Rename the selected note and press 'Enter' to confirm.</div>\n                            <div>(Max. 25 characters)</div>\n                            <input id={\"renameNote\"}\n                                   className={\"notebox\"}\n                                   type={\"text\"}\n                                   maxLength={25}\n                                   autoComplete={\"off\"}\n                                   onKeyDown={(e) => {if (e.key === 'Enter') {\n                                       handleListRenamed(changeThis, document.getElementById('renameNote').value)\n                                   }if (e.key === 'Escape') {\n                                       setShowRename(false);\n                                       setChangeThis(\"\");\n                                   }\n                                   }}/>\n\n                        </div>\n                    </div>\n                </div>}\n\n                {/*Displays sharing popup*/}\n                {showShare && <div>\n                    <div>\n                        <div id={\"back\"} onClick={() => {\n                            setShowShare(false);\n                            setChangeThis(\"\");\n                        }}/>\n                        <div id={\"warning\"}>\n\n                            {/*Shows only shared users for this note*/}\n                            {lists?.map((data) => data.key !== 'b97qjRbVqp7TaMiZFdTQ' ?\n                                <SharedUsers changeThis={changeThis}\n                                             id={data.key}\n                                             owner={data.owner}\n                                             isOwner = {data.owner === props.user.email}\n                                             collectionRef={collectionRef}\n                                             updateSharing = {handleUpdateSharing}\n                                             onListShared = {handleListShared}\n                                             canView={data.canView}\n                                             canEdit={data.canEdit}\n                                             setShowRename = {setShowRename}\n                                             setChangeThis = {setChangeThis}\n                                /> : <div/>)}\n\n                        </div>\n                    </div>\n                </div>}\n        </div>)\n    }\n\nexport default HomeView;"]},"metadata":{},"sourceType":"module"}