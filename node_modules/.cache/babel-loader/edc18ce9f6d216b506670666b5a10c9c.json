{"ast":null,"code":"import _toConsumableArray from\"/Users/cgcouto/cs124/lab2/listapp-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/cgcouto/cs124/lab2/listapp-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/cgcouto/cs124/lab2/listapp-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/cgcouto/cs124/lab2/listapp-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import'./Lab1EmptyList.css';import LineList from'./LineList.js';import{useState}from'react';import{generateUniqueID}from\"web-vitals/dist/modules/lib/generateUniqueID\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialData=[{key:0,text:\"Tap to Add Note\",checked:false,check_visible:false,text_visible:true,select_visible:false}];function App(){var _useState=useState(initialData),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var _useState5=useState(-1),_useState6=_slicedToArray(_useState5,2),edited=_useState6[0],setEdited=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hidden=_useState8[0],setHidden=_useState8[1];var showHideButton=list.filter(function(item){return item.checked===true;}).length>0;var showDeleteButton=selected.length>0;var disableChecks=edited!==-1;function handleLineEdited(lineID){if(edited===list[list.length-1].key&&list[list.length-1].text!==\"Tap to Add Note\"){if(list[list.length-1].text===\"\"){handleItemChanged(list[list.length-1].key,\"text\",\"Tap to Add Note\");// console.log(\"TtAN1 created\")\n}else{list[list.length-1].check_visible=true;list[list.length-1].select_visible=true;handleItemAdded(\"Tap to Add Note\");// console.log(\"TtAN2 created\")\n}}if(lineID===list[list.length-1].key&&edited!==lineID){handleItemChanged(lineID,\"text\",\"\");}setEdited(lineID);}function handleItemChanged(itemID,field,newValue){console.log('test');if(field===\"text\"){return setList(list.map(function(p){return p.key===itemID?_objectSpread(_objectSpread({},p),{},_defineProperty({},field,newValue)):p;}));}if(field===\"checkbox\"){setList(list.map(function(p){return p.key===itemID?_objectSpread(_objectSpread({},p),{},{checked:!p.checked}):p;}));}if(field==='Enter'){console.log(\"edited line:\",edited);console.log(\"active element: \",document.activeElement);document.activeElement.blur();console.log(\"active element: \",document.activeElement);}if(field==='Backspace'){if(newValue===\"\"&&itemID!==list[list.length-1].key){handleItemDeleted(itemID);if(selected.includes(itemID)){handleToggleSelectedLines(itemID);}// return (handleToggleSelectedLines(itemID));\n}}}function handleHideToggle(){console.log(!hidden);setHidden(!hidden);}function handleLineKeyPress(keyPress,text){if(keyPress==='Enter'){document.activeElement.blur();console.log(\"active element: \",document.activeElement);}if(keyPress==='Backspace'&&text===\"\"){}}function handleDelete(){setList(list.filter(function(p){return!selected.includes(p.key);}));setSelected([]);}function handleToggleSelectedLines(lineID){if(selected.includes(lineID)){setSelected(selected.filter(function(p){return p!==lineID;}));}else{setSelected([].concat(_toConsumableArray(selected),[lineID]));}}function handleItemDeleted(itemID){return setList(list.filter(function(p){return p.key!==itemID;}));}function handleItemAdded(textValue){setList([].concat(_toConsumableArray(list),[{key:generateUniqueID(),text:textValue,checked:false,check_visible:false,text_visible:true,select_visible:false}]));}return/*#__PURE__*/_jsxs(\"div\",{id:\"container\",onClick:function onClick(e){handleLineEdited(-1);},children:[/*#__PURE__*/_jsx(\"div\",{id:\"button-div\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",children:\"\\u2190\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\" TITLE OF LIST\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"lineList\",children:/*#__PURE__*/_jsx(LineList,{lineList:list,listData:initialData,selectedLines:selected,hideChecks:hidden,showDeleteButton:showDeleteButton,showHideButton:showHideButton,disableChecks:disableChecks,onHideToggle:handleHideToggle,onToggleSelected:handleToggleSelectedLines,onItemChanged:handleItemChanged,onItemDeleted:handleItemDeleted,onDelete:handleDelete,onItemAdded:handleItemAdded,onEdited:handleLineEdited})})]});}export default App;","map":{"version":3,"sources":["/Users/cgcouto/cs124/lab2/listapp-react/src/App.js"],"names":["LineList","useState","generateUniqueID","initialData","key","text","checked","check_visible","text_visible","select_visible","App","list","setList","selected","setSelected","edited","setEdited","hidden","setHidden","showHideButton","filter","item","length","showDeleteButton","disableChecks","handleLineEdited","lineID","handleItemChanged","handleItemAdded","itemID","field","newValue","console","log","map","p","document","activeElement","blur","handleItemDeleted","includes","handleToggleSelectedLines","handleHideToggle","handleLineKeyPress","keyPress","handleDelete","textValue","e"],"mappings":"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","sourcesContent":["import './App.css';\nimport './Lab1EmptyList.css';\nimport LineList from './LineList.js';\nimport {useState} from 'react';\nimport {generateUniqueID} from \"web-vitals/dist/modules/lib/generateUniqueID\";\n\nconst initialData = [\n    {\n        key: 0,\n        text: \"Tap to Add Note\",\n        checked: false,\n        check_visible: false,\n        text_visible: true,\n        select_visible: false\n    }\n]\n\nfunction App() {\nconst [list, setList] = useState(initialData);\nconst [selected, setSelected] = useState([]);\nconst [edited, setEdited] = useState(-1);\nconst [hidden, setHidden] = useState(false);\nlet showHideButton = (list.filter((item) => item.checked === true)).length > 0;\nlet showDeleteButton = selected.length > 0;\nlet disableChecks = edited !== -1;\n\nfunction handleLineEdited(lineID) {\n\n    if (edited === list[list.length-1].key && list[list.length-1].text !== \"Tap to Add Note\") {\n        if (list[list.length-1].text === \"\") {\n            handleItemChanged(list[list.length-1].key, \"text\", \"Tap to Add Note\");\n            // console.log(\"TtAN1 created\")\n        } else {\n            list[list.length-1].check_visible = true;\n            list[list.length-1].select_visible = true;\n            handleItemAdded(\"Tap to Add Note\");\n            // console.log(\"TtAN2 created\")\n        }\n    }\n    if (lineID === list[list.length-1].key && edited !== lineID) {\n        handleItemChanged(lineID, \"text\", \"\")\n    }\n    setEdited(lineID)\n}\n\nfunction handleItemChanged(itemID, field, newValue) {\n    console.log('test')\n\n    if (field === \"text\") {\n        return (\n            setList(list.map(\n                p => p.key === itemID ? {...p, [field]:newValue} : p))\n        );\n    }\n    if (field === \"checkbox\") {\n        setList(list.map(\n            p => p.key === itemID ? {...p, checked:(!p.checked)} : p))\n    }\n    if (field === 'Enter') {\n        console.log(\"edited line:\", edited)\n        console.log(\"active element: \", document.activeElement)\n        document.activeElement.blur();\n        console.log(\"active element: \", document.activeElement)\n    }\n    if (field === 'Backspace') {\n        if (newValue === \"\" && itemID !== list[list.length-1].key) {\n            handleItemDeleted(itemID);\n            if (selected.includes(itemID)) {\n                handleToggleSelectedLines(itemID);\n            }\n            // return (handleToggleSelectedLines(itemID));\n        }\n    }}\n\nfunction handleHideToggle() {\n    console.log(!hidden)\n    setHidden(!hidden);\n}\n\nfunction handleLineKeyPress(keyPress, text) {\n    if (keyPress === 'Enter') {\n        document.activeElement.blur();\n        console.log(\"active element: \", document.activeElement)\n    }\n    if (keyPress === 'Backspace' && text === \"\") {\n\n    }\n}\n\nfunction handleDelete() {\n        setList(list.filter((p) => !selected.includes(p.key)));\n        setSelected([]);\n}\n\nfunction handleToggleSelectedLines(lineID) {\n    if (selected.includes(lineID)) {\n        setSelected(selected.filter((p) => p !== lineID))\n    } else {\n        setSelected([...selected, lineID])\n    }\n}\n\nfunction handleItemDeleted(itemID) {\n    return(setList(list.filter((p) => p.key !== itemID)));\n}\n\nfunction handleItemAdded(textValue) {\n    setList([...list,\n        {\n            key: generateUniqueID(),\n            text: textValue,\n            checked: false,\n            check_visible: false,\n            text_visible: true,\n            select_visible: false\n        }]);\n}\n\n    return(\n        <div id=\"container\" onClick= {(e) => {handleLineEdited(-1)}}>\n            <div id=\"button-div\">\n                <button className=\"back-button\">&larr;</button>\n            </div>\n            <div id=\"title\"><h2> TITLE OF LIST</h2></div>\n            <div id={\"lineList\"}>\n                <LineList lineList={list}\n                          listData={initialData}\n                          selectedLines={selected}\n                          hideChecks={hidden}\n                          showDeleteButton={showDeleteButton}\n                          showHideButton={showHideButton}\n                          disableChecks={disableChecks}\n                          onHideToggle={handleHideToggle}\n                          onToggleSelected={handleToggleSelectedLines}\n                          onItemChanged={handleItemChanged}\n                          onItemDeleted={handleItemDeleted}\n                          onDelete = {handleDelete}\n                          onItemAdded={handleItemAdded}\n                          onEdited={handleLineEdited}\n                          />\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}